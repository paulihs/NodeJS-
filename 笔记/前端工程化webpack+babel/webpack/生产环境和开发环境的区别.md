mode是production和是development的区别

| 生产环境（production） | 开发环境（development） |
| ---- | ---- |
| 会将 `DefinePlugin` 中 `process.env.NODE_ENV` 的值设置为 `production`。为模块和 chunk 启用确定性的混淆名称，`FlagDependencyUsagePlugin`，`FlagIncludedChunksPlugin`，`ModuleConcatenationPlugin`，`NoEmitOnErrorsPlugin` 和 `TerserPlugin` 。 | 会将 `DefinePlugin` 中 `process.env.NODE_ENV` 的值设置为 `development`. 为模块和 chunk 启用有效的名。 |
| 开启压缩和优化 |      |
|      |      |
|      |      |
|      |      |
|      |      |

webpack默认的配置文件 名为`webpack.config.js`



### 配置

如果你想根据情况使用不同的配置文件，可以通过在命令行中使用`--config flag` 来修改这个配置文件的名字。

**package.json**

```json
"scripts": {
  "build": "webpack --config prod.config.js"
}
```



#### 配置类型

除了导出单个配置外，还有一些能满足更多需求的使用方式。

##### 导出函数：

当需要区分开发环境和生产环境的时候，我们可以尝试导出一个函数。

这个函数有两个参数：

- 参数一是环境。`--env flag`
- 参数二是webpack的配置项

参数一的设置方式可以参考：https://webpack.docschina.org/api/cli/#environment-options

```diff
-module.exports = {
+module.exports = function(env, argv) {
+  return {
+    mode: env.production ? 'production' : 'development',
+    devtool: env.production ? 'source-map' : 'eval',
     plugins: [
       new TerserPlugin({
         terserOptions: {
+          compress: argv['optimize-minimize'] // only if -p or --optimize-minimize were passed
         }
       })
     ]
+  };
};
```

模式





