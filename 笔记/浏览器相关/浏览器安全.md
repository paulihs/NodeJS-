## xss攻击有两种：
第一、XSS反射型攻击，恶意代码并没有保存在目标网站，通过引诱用户点击一个链接到目标网站的恶意链接来实施攻击的。

第二、XSS存储型攻击，恶意代码被保存到目标网站的服务器中，这种攻击具有较强的稳定性和持久性，比较常见场景是在博客，论坛等社交网站上，但OA系统，和CRM系统上也能看到它身影，比如：某CRM系统的客户投诉功能上存在XSS存储型漏洞，黑客提交了恶意攻击代码，当系统管理员查看投诉信息时恶意代码执行，窃取了客户的资料，然而管理员毫不知情，这就是典型的XSS存储型攻击。


## xss攻击能做什么：
1. 窃取cookies，读取目标网站的cookie发送到黑客的服务器上
2. 读取用户未公开的资料，如果：邮件列表或者内容、系统的客户资料，联系人列表等等
## 解决方案：
1. url过滤。
2. 对提交的符号如：尖括号，引号，单引号，百分比符号，分号，括号，&符号，加号进行转义，严格控制输出。

## 跨站请求伪造
### 首先说明一下什么是CSRF(Cross Site Request Forgery)？

跨站请求伪造是指攻击者可以在第三方站点制造HTTP请求并以用户在目标站点的登录态发送到目标站点，而目标站点未校验请求来源使第三方成功伪造请求。

为什么会有CSRF?

JS控制浏览器发送请求的时候，浏览器是根据目标站点，而不是来源站点，来发送cookie的，如果当前会话中有目标站点的cookie，就发送出去。核心问题是浏览器的会话机制，是跨站请求伪造漏洞的根源。

 

CSRF(Cross-site request forgery跨站请求伪造，也被称成为“one click attack”或者session riding，通常缩写为CSRF或者XSRF，是一种对网站的恶意利用。

### 防御措施
1. 检查Referer字段
2. 添加校验token


### 参考文章
https://baike.baidu.com/item/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0/13777878?fr=aladdin
https://www.cnblogs.com/qmfsun/p/5779469.html 



